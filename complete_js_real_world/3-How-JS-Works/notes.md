// How JavaScript Works Behind the Scenes

JS is typically hosted in a browser. This is where it runs.

Hosts have a JS Engine that takes the code and executes it.

JS Engine
1. A Parser reads the code line by line checking syntax.
2. Parser produces an abstract syntax tree
3. Converts code to machine code
4. Machine code runs

Execution Contexts and the Execution Stack

All JS Code runs in an environment. Execution Context. A box or wrapper that stores variables and in which a piece of our code is evaluated and executed.

Execution context is associated with the global object which in a browser is the window object

The Default Context:
Global Execution Context
- Code that is not inside of any function
- Associated with the global object
- In the browser, the window object

lastName === window.lastName
// true

properties are variables attached to objects

each time we call a function it gets a new global execution Context

Execution Context in Detail

Execution Context object
3 properties:
Variable Object (VO)
Scope Chain
"This" Variable

Each Execution Context has an Object
The Variable Object
How is it created? 2 Phases

1. Creation Phase defines the properties
  a. Creation of the Variable Object (VO)
  b. Creation of the scope Chain
  c. Determine value of "this" variable
2. Execution Phase
  The code of the function that is generated by the current execution context is run line by line

  Hoisting in Practice

  Creation of the Scoping Chain

  Scoping answers the question: "Where can we access a certain variable or function?"

  In JS, each function creates a scope, a space/environment in which the variables it defines are accessible.

  New functions are the only way to create new scope.

  Lexical scoping. a function that is lexically within another function gets access to the scope of the other function (the parent function).

  The "This" keyword

  A variable that each execution context gets
  it is stored in the execution context variable

the default
  regular function call. the 'this' keyword points at the global object, the window object in the browser

a method call (a function attached to an object):
  method call: the 'this' variable points to the object that is calling the method

the 'this' keyword is not assigned a value until a function where it is defined is actually called.

invoked/called are synonyms

// Lecture: The this keyword

console.log(this);

The Window object is the default object
